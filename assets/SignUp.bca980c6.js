import{b as P,r as q,j as e,d as c,v as i,w as N,L as T}from"./index.20a8e46f.js";import{w as j,u as E,S as I}from"./withoutAuth.6693266f.js";import{u as L,e as A,i as C,a as F}from"./form.e20c3ba0.js";function $(){var o,l,d,m;const{signUp:p}=P(),{next:f,redirect:n}=E(),{register:r,handleSubmit:h,formState:{errors:a,isSubmitting:t},watch:g}=L(),[b,w]=q.exports.useState(),x=g("password");async function y({email:s,password:S,name:U,profilePicture:v=[]}){try{await p({email:s,password:S,name:U,profilePicture:v[0]}),n()}catch(u){console.error(u),w(u)}}return e(I,{title:"Sign Up",redirect:n,children:c("form",{className:"flex flex-col justify-center gap-6 text-gray-700",onSubmit:h(y),children:[e(i,{label:"Profile Picture",className:"file:bg-tiber-500 file:text-white file:border-none file:rounded-full file:px-4 file:py-2 border-none !p-0",type:"file",...r("profilePicture")}),e(i,{label:"Name",type:"text",error:(o=a.name)==null?void 0:o.message,...r("name",{required:"This field is required"})}),e(i,{label:"Email",type:"text",error:(l=a.email)==null?void 0:l.message,...r("email",{required:"This field is required",validate:{...A,emailInUsed:async s=>await N(s)||"This email is already in use"}})}),e(i,{label:"Password",type:"password",error:(d=a.password)==null?void 0:d.message,...r("password",{required:"This field is required",minLength:{value:8,message:"Password must have minimum 8 characters"},validate:{includeNumber:C,includeUppercase:F}})}),e(i,{label:"Confirm Password",type:"password",error:(m=a.confirmPassword)==null?void 0:m.message,...r("confirmPassword",{required:"This field is required",validate:s=>s===x||"The passwords do not match"})}),e("button",{className:`flex justify-center items-center px-5 py-2 rounded-full transition-colors bg-tiber-500 text-white ${t?"":"hover:bg-tiber-600"}`,type:"submit",disabled:t,children:t?e("div",{className:"w-6 h-6 rounded-full border-4 border-gray-400 border-t-white animate-spin"}):e("span",{children:"Sign Up"})}),b&&e("p",{className:"-mt-4 text-red-500",children:"Oops, there was an error signing up"}),c("p",{children:["Already have an account?"," ",e(T,{className:"text-tiber-500 underline font-medium transition-colors hover:text-tiber-400",to:"/signIn",state:{next:f},children:"Sign In"})]})]})})}const z=j($);export{z as default};
